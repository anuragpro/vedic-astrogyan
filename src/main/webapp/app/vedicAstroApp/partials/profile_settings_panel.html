

<div class="x_panel" ng-controller="ProfileSettingsController as vm">

	<div class="x_title">
		<div class="row">
			<div class="col-md-10 col-sm-12 col-xs-12">
				<h2>
					<i class="fa fa-bars"></i> {{vm.panelTitle}}
				</h2>
			</div>
			<div class="col-md-2 col-sm-12 col-xs-12">
				<ul class="nav navbar-right panel_toolbox">
					<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</li>
					<li><a class="close-link"><i class="fa fa-close"></i></a></li>
				</ul>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
	<div class="x_content">
	    <br>
		<div class="row">
			<div class="col-md-3 col-sm-12 col-xs-12 form-group">
				<select class="form-control" ng-model="vm.memberTypeSelected"
					ng-options="memberType.name for memberType in vm.memberTypes track by memberType.code"
					ng-change="vm.loadAllParents()">
				</select>
			</div>
			<div class="col-md-9 col-sm-12 col-xs-12 form-group">
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-4 col-sm-12 col-xs-12 form-group">
				<h4>
					<b>{{vm.labels[0]}}</b>
				</h4>
			</div>
			<div class="col-md-4 col-sm-12 col-xs-12 form-group">
				<h4>
					<b>{{vm.labels[1]}}</b>
				</h4>
			</div>
			<div class="col-md-4 col-sm-12 col-xs-12 form-group">
				<h4>
					<b>{{vm.labels[2]}}</b>
				</h4>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3 col-sm-12 col-xs-12 form-group">
				<select class="form-control" size=5 ng-model="vm.parentSelected"
					ng-selected="vm.parentSelected.code"
					ng-change="vm.loadChildren(vm.parentSelected.code,1)"
					ng-options="parent.name for parent in vm.parents track by parent.code">
				</select>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group"></div>
			<div class="col-md-3 col-sm-12 col-xs-12 form-group">
				<select class="form-control" size=5
					ng-model="vm.immediateChildSelected"
					ng-change="vm.loadChildren(vm.immediateChildSelected.code,2)"
					ng-options="immediateChild.name for immediateChild in vm.immediateChildren track by immediateChild.code">
				</select>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group"></div>
			<div class="col-md-3 col-sm-12 col-xs-12 form-group">
				<select class="form-control" size=5
					ng-model="vm.furtherChildSelected"
					ng-options="furtherChild.name for furtherChild in vm.furtherChildren track by furtherChild.code">
				</select>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group"></div>
		</div>
		<div class="row">

			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.newParent.code" required placeholder="Code" />
				</div>
			</div>
			<div class="col-md-2 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.newParent.name" required placeholder="Name" />
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<a href=""
						ng-click="vm.addParentAspect(vm.newParent.code, vm.newParent.name)"><i
						class="fa fa-plus-square fa-2x"></i></a>
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.newImmediateChild.code" required placeholder="Code" />
				</div>
			</div>

			<div class="col-md-2 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.newImmediateChild.name" required placeholder="Name" />
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<a href=""
						ng-click="vm.addImmediateChildAspect(vm.newImmediateChild.code, vm.newImmediateChild.name, vm.parentSelected.code)"><i
						class="fa fa-plus-square fa-2x"></i></a>
				</div>
			</div>

			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.newFurtherChild.code" required placeholder="Code" />
				</div>
			</div>
			<div class="col-md-2 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.newFurtherChild.name" required placeholder="Name" />
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<a href=""
						ng-click="vm.addFurtherChildAspect(vm.newFurtherChild.code, vm.newFurtherChild.name, vm.immediateChildSelected.code)"><i
						class="fa fa-plus-square fa-2x"></i></a>
				</div>
			</div>

			<div class="col-md-1 col-sm-12 col-xs-12 form-group"></div>
		</div>

		<div class="row">

			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.parentSelected.code" required readonly
						placeholder="Aspect" />
				</div>
			</div>
			<div class="col-md-2 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.parentSelected.name" required placeholder="Aspect" />
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<a href=""
						ng-click="vm.updateParentAspect(vm.parentSelected.code, vm.parentSelected.name, vm.parentSelected.id)"><i
						class="fa fa-check-square fa-2x"></i></a> <a href=""
						ng-click="vm.deleteParentAspect(vm.parentSelected.id)"><i
						class="fa fa-minus-square fa-2x"></i></a>
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.immediateChildSelected.code" required readonly
						placeholder="Aspect" />
				</div>
			</div>

			<div class="col-md-2 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.immediateChildSelected.name" required
						placeholder="Aspect" />
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<a href=""
						ng-click="vm.updateImmediateChildAspect(vm.immediateChildSelected.code, vm.immediateChildSelected.name, vm.parentSelected.code, vm.immediateChildSelected.id)"><i
						class="fa fa-check-square fa-2x"></i></a> <a href=""
						ng-click="vm.deleteImmediateChildAspect(vm.immediateChildSelected.id, vm.parentSelected.code)"><i
						class="fa fa-minus-square fa-2x"></i></a>
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.furtherChildSelected.code" required readonly
						placeholder="Aspect" />
				</div>
			</div>
			<div class="col-md-2 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<input type="text" name="cat1" id="cat1" class="form-control"
						ng-model="vm.furtherChildSelected.name" required
						placeholder="Aspect" />
				</div>
			</div>
			<div class="col-md-1 col-sm-12 col-xs-12 form-group">
				<div class="form-group">
					<a href=""
						ng-click="vm.updateFurtherChildAspect(vm.furtherChildSelected.code, vm.furtherChildSelected.name, vm.immediateChildSelected.code, vm.furtherChildSelected.id)"><i
						class="fa fa-check-square fa-2x"></i></a> <a href=""
						ng-click="vm.deleteFurtherChildAspect(vm.furtherChildSelected.id, vm.immediateChildSelected.code)"><i
						class="fa fa-minus-square fa-2x"></i></a>
				</div>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-6 col-sm-12 col-xs-12">
				<h2>{{vm.panelPreviewTitle1}}</h2>
				<div class="clearfix"></div>
			</div>
			<div class="col-md-6 col-sm-12 col-xs-12">
				<h2>{{vm.panelPreviewTitle2}}</h2>
				<div class="clearfix"></div>
			</div>
			<div class="col-md-6 col-sm-12 col-xs-12 form-group">
				<node-list ng-model="aspects" kids="children" heading-field="name"></node-list>
			</div>
			<div class="col-md-6 col-sm-12 col-xs-12 form-group">
				<table class="table table-striped table-bordered">
					<tbody>
						<tr ng-repeat="aspect in vm.flatProfile">
							<td scope="row">{{aspect.path}}</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="clearfix"></div>
		</div>
		<br>
	</div>
</div>

<script src="js/jquery.min.js"></script>
<script src="js/panelwidget.js"></script>

